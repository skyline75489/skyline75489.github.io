<!DOCTYPE html> 
<html>
<head>
<title>Skyline75489</title>
 <meta charset='utf-8'>
<link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/default.min.css">
<link rel="stylesheet" href="../static/post.css">
</head>
<body>

<div class="wrapper">
<div class="header">
	<span class="blog-name">Skyline75489</span>

<a class="nav" href="../index.html">Home</a>
<a class="nav" href="about.html">About</a>
</div>
<div class="content">

<h1>Swift 学习笔记——函数与闭包</h1>

<h2>函数</h2>

<p>Swift中的函数结合了很多语言的优点，使其变得更加强大而且灵活。</p>

<h3>默认参数</h3>

<p>类似Python，Swift也支持默认参数，如果使用了默认参数，那么这个参数的名称在使用时必须标示。</p>

<pre><code class="swift">func convertToString(pretty: Bool = false) {
    // do something
}

convertToString()               // pretty使用默认值
convertToString(pretty:true)    // 指明pretty的值
convertToString(true)           // 报错 missing argument label &#39;pretty:&#39;
</code></pre>

<h3>常量和变量参数</h3>

<p>函数参数默认是常量，也就是不允许在函数体中对参数值进行改变。可以使用<code>var</code>显式地将参数值设置为变量:</p>

<pre><code class="swift">func foo(var greeting:String) {
    // 现在可以改变 greeting 的值了
}
</code></pre>

<h3>返回参数</h3>

<p>变量参数可以在函数体中改变，但是函数执行完成之后其原来的值并没有改变。类似C#中的做法，要想在函数中对参数的值进行改变，需要使用<code>inout</code>关键字。</p>

<pre><code class="swift">func swap(inout a: Int, inout b: Int) {
    // 交互两个数
}

swap(&amp;intA, &amp;intB) // 调用，类似使用引用传值
</code></pre>

<p>需要注意，<code>inout</code>关键字不能与<code>var</code>或者<code>let</code>同时使用，也不能有默认值。</p>

<h3>真·函数</h3>

<p>Swift中，函数是第一等公民，可以用于赋值，可以当做别的函数的参数进行传递，也可以在函数中嵌套函数。</p>

<pre><code class="swift">func addTwoInt(a: Int, b: Int) {
    return a + b
}

var myAddFunc:(Int, Int) -&gt; Int = addTwoInt

myAddFunc(4, 5) // 9

func makeIncre(n:Int) -&gt; (Int) -&gt; Int {
    func addN(a:Int) -&gt; Int{
        return a + n
   }
   return addN
}

let addOne = makeIncre(1)
let addTwo = makeIncre(2)

addOne(6) // 7
addTwo(6) // 8
</code></pre>

<h2>闭包</h2>

<p>闭包类似于Objectivc-C里的Block，以及别的语言中的lambda，本质上就是一个小的匿名的函数。</p>


</div>
</div>
<script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
