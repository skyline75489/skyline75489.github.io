PyMOTW(2)——内存数据结构
======================

Python提供了若干种标准程序数据结构作为内建类型（```list```，```tuple```，```dictionary```和```set```）。大部分应用程序不需要额外的数据结构了，如果真的需要，标准库也提供了解决办法。

### 2.1 array

对于大量的数据，使用```array```可能比使用```list```效率更高。因为```array```限制使用单一的数据类型，相比通用的```list```，它具有更密集的内存表示。一个额外的好处是，```array```可以使用很多和```list```相同的方法进行操作，所以在你的应用中使用array来替换```list```，很可能不需要太多更改。

### 2.2 排序

如果你需要维护一个排序```list```，尝试一下```heapq```。使用```heapq```的函数从```list```里添加和删除元素，你可以开销较小的情况下维护一个排序```list```。

另一个选择是```bisect```。```bisect```使用二叉搜索为新元素找到插入位置。也可以用它来给一个经常变化的```list```进行排序。

### 2.3 Queue

尽管内置的```list```可以使用```insert()```和```pop()```方法来模拟队列，它并不是线程安全的。如果你需要不同线程之间的有序通信，你应该使用```Queue.multiproceeing```，其中包含了可以跨进程的```Queue```实现，这样可以让跨模块的移植变得更加容易。

### 2.4 collections

模块```collections```包含了若干数据结构，它们扩展了其他模块中的那些结构。例如，```Deque```是一个双向队列，允许在任意一端添加和删除元素。```defaultdict```是一个当键缺失时可以返回默认值的```dict```。```nametuple```扩展了普通```tuple```，在数字索引之外，给每个元素添加了一个属性名字。

### 2.5 数据解码

如果你需要处理从其他应用程序传来的数据，一个二进制文件或者一段流数据，你会发现```struct```很有用，它可以把数据解码成Python的原生类型，使它们变得更容易操作

### 2.6 自定义变量类型

最后，如果现有的类型不能满足你的需求，你可以继承某个原生类型然后定制它。使用```collections```中定义的抽象基类，你也可以从头开始创建一个类型。
